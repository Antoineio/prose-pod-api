{
	"paths": {
		"init_first_account": {
			"tags": ["Init"],
			"summary": "Initialize the the first XMPP account",
			"description": "Initializes the first XMPP account on the server. It will be given the `ADMIN` role and this user will have to log in before making subsequent requests (like inviting other users). After one account is created, this unauthenticated route will always return `409 Conflict` to prevent unauthenticated users from creating admin accounts.",
			"operationId": "init_first_account",
			"security": [],
			"requestBody": {
				"required": true,
				"content": {
					"application/json": {
						"schema": {
							"type": "object",
							"required": ["username", "password", "nickname"],
							"properties": {
								"username": { "$ref": "../shared.json#/components/schemas/Username" },
								"password": { "$ref": "../shared.json#/components/schemas/Password" },
								"nickname": { "$ref": "members.json#/components/schemas/Nickname" }
							}
						}
					}
				}
			},
			"responses": {
				"201": {
					"description": "Success",
					"content": {
						"application/json": {
							"schema": { "$ref": "members.json#/components/schemas/Member" }
						}
					},
					"headers": {
						"Location": { "$ref": "../shared.json#/components/headers/Location" }
					}
				},
				"400": { "$ref": "server-config.json#/components/responses/ServerConfigNotInitialized" },
				"409": {
					"description": "First account already created",
					"content": {
						"application/json": {
							"schema": { "$ref": "../shared.json#/components/schemas/Error" },
							"example": {
								"error": "first_account_already_created"
							}
						}
					}
				}
			}
		}
	}
}
